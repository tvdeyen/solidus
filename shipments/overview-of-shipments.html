<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Guidelines | Overview of shipments</title>
    <meta name="description" content="Developer Guides for Solidus">
    <link rel="shortcut icon" href="/solidus/favicon.ico">
  <link rel="apple-touch-icon" href="/solidus/apple-touch-icon.png">
    
    <link rel="preload" href="/solidus/assets/css/73.styles.eab8b2ae.css" as="style"><link rel="preload" href="/solidus/assets/js/app.8a40fd93.js" as="script"><link rel="preload" href="/solidus/assets/js/17.96a840b0.js" as="script"><link rel="prefetch" href="/solidus/assets/js/37.b74e6c67.js"><link rel="prefetch" href="/solidus/assets/js/1.bc8aaa90.js"><link rel="prefetch" href="/solidus/assets/js/2.d4e88151.js"><link rel="prefetch" href="/solidus/assets/js/3.e88dfa7e.js"><link rel="prefetch" href="/solidus/assets/js/4.7b7ea6ef.js"><link rel="prefetch" href="/solidus/assets/js/5.8bb30487.js"><link rel="prefetch" href="/solidus/assets/js/6.6430c6fd.js"><link rel="prefetch" href="/solidus/assets/js/7.573fb1d2.js"><link rel="prefetch" href="/solidus/assets/js/8.9360dac4.js"><link rel="prefetch" href="/solidus/assets/js/9.bc0513d0.js"><link rel="prefetch" href="/solidus/assets/js/10.9de329d0.js"><link rel="prefetch" href="/solidus/assets/js/11.3ef794fe.js"><link rel="prefetch" href="/solidus/assets/js/12.a9f19247.js"><link rel="prefetch" href="/solidus/assets/js/13.10bdcfc3.js"><link rel="prefetch" href="/solidus/assets/js/14.baeb49cf.js"><link rel="prefetch" href="/solidus/assets/js/15.4d27d13f.js"><link rel="prefetch" href="/solidus/assets/js/16.4dbd3af2.js"><link rel="prefetch" href="/solidus/assets/js/18.7af603a9.js"><link rel="prefetch" href="/solidus/assets/js/19.944f2391.js"><link rel="prefetch" href="/solidus/assets/js/20.0d3a03ca.js"><link rel="prefetch" href="/solidus/assets/js/21.6f8a3623.js"><link rel="prefetch" href="/solidus/assets/js/22.1ab16961.js"><link rel="prefetch" href="/solidus/assets/js/23.c5a09552.js"><link rel="prefetch" href="/solidus/assets/js/24.01d33ebc.js"><link rel="prefetch" href="/solidus/assets/js/25.368e20d3.js"><link rel="prefetch" href="/solidus/assets/js/26.0ff243dc.js"><link rel="prefetch" href="/solidus/assets/js/27.379ef86c.js"><link rel="prefetch" href="/solidus/assets/js/28.b1d94d4e.js"><link rel="prefetch" href="/solidus/assets/js/29.a582c0f5.js"><link rel="prefetch" href="/solidus/assets/js/30.75b3694e.js"><link rel="prefetch" href="/solidus/assets/js/31.32737bfe.js"><link rel="prefetch" href="/solidus/assets/js/32.68e6e17c.js"><link rel="prefetch" href="/solidus/assets/js/33.1e8efaaa.js"><link rel="prefetch" href="/solidus/assets/js/34.349d8482.js"><link rel="prefetch" href="/solidus/assets/js/35.78fdbd6e.js"><link rel="prefetch" href="/solidus/assets/js/36.0b2759fa.js"><link rel="prefetch" href="/solidus/assets/js/0.594398bd.js"><link rel="prefetch" href="/solidus/assets/js/38.bccdd185.js"><link rel="prefetch" href="/solidus/assets/js/39.ad7f257e.js"><link rel="prefetch" href="/solidus/assets/js/40.18604395.js"><link rel="prefetch" href="/solidus/assets/js/41.0e64d55c.js"><link rel="prefetch" href="/solidus/assets/js/42.83301a40.js"><link rel="prefetch" href="/solidus/assets/js/43.f596cdc7.js"><link rel="prefetch" href="/solidus/assets/js/44.07f48a7c.js"><link rel="prefetch" href="/solidus/assets/js/45.a59da533.js"><link rel="prefetch" href="/solidus/assets/js/46.adca66b1.js"><link rel="prefetch" href="/solidus/assets/js/47.61b9b3b8.js"><link rel="prefetch" href="/solidus/assets/js/48.94da6411.js"><link rel="prefetch" href="/solidus/assets/js/49.045da191.js"><link rel="prefetch" href="/solidus/assets/js/50.4aa1c95a.js"><link rel="prefetch" href="/solidus/assets/js/51.3f25a7cb.js"><link rel="prefetch" href="/solidus/assets/js/52.7fc3e97e.js"><link rel="prefetch" href="/solidus/assets/js/53.478f3a20.js"><link rel="prefetch" href="/solidus/assets/js/54.bee46771.js"><link rel="prefetch" href="/solidus/assets/js/55.d22fc5aa.js"><link rel="prefetch" href="/solidus/assets/js/56.2779de7d.js"><link rel="prefetch" href="/solidus/assets/js/57.9229e917.js"><link rel="prefetch" href="/solidus/assets/js/58.53b44760.js"><link rel="prefetch" href="/solidus/assets/js/59.b4ab94d2.js"><link rel="prefetch" href="/solidus/assets/js/60.024d7dba.js"><link rel="prefetch" href="/solidus/assets/js/61.c0c81db2.js"><link rel="prefetch" href="/solidus/assets/js/62.9766010b.js"><link rel="prefetch" href="/solidus/assets/js/63.a22ac1c9.js"><link rel="prefetch" href="/solidus/assets/js/64.711f7334.js"><link rel="prefetch" href="/solidus/assets/js/65.0f534f00.js"><link rel="prefetch" href="/solidus/assets/js/66.e38c54e1.js"><link rel="prefetch" href="/solidus/assets/js/67.a395f431.js"><link rel="prefetch" href="/solidus/assets/js/68.f86e2d51.js"><link rel="prefetch" href="/solidus/assets/js/69.6f1fc43a.js"><link rel="prefetch" href="/solidus/assets/js/70.944af6a0.js"><link rel="prefetch" href="/solidus/assets/js/71.1f9a1de8.js"><link rel="prefetch" href="/solidus/assets/js/72.3e4d2c2a.js">
    <link rel="stylesheet" href="/solidus/assets/css/73.styles.eab8b2ae.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/solidus/" class="home-link router-link-active"><img src="/solidus/logo.svg" class="logo"><span class="site-name can-hide">
      Guidelines
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/solidus/" class="nav-link">Home</a></div><a href="https://github.com/solidusio/solidus" target="_blank" rel="noopener noreferrer" class="github-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/solidus/" class="nav-link">Home</a></div><a href="https://github.com/solidusio/solidus" target="_blank" rel="noopener noreferrer" class="github-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Getting Started</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Preferences</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Locations</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Payments</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Taxation</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Shipments</span><span class="arrow up"></span></p><ul class="sidebar-group-items"><li><a href="/solidus/shipments/overview-of-shipments.html" class="active sidebar-link">Overview of shipments</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/solidus/shipments/overview-of-shipments.html#shipment-attributes" class="sidebar-link">Shipment attributes</a></li><li class="sidebar-sub-header"><a href="/solidus/shipments/overview-of-shipments.html#core-concepts" class="sidebar-link">Core concepts</a></li></ul></li><li><a href="/solidus/shipments/user-interface-for-shipments.html" class="sidebar-link">User interface for shipments</a></li><li><a href="/solidus/shipments/split-shipments.html" class="sidebar-link">Split shipments</a></li><li><a href="/solidus/shipments/cartons.html" class="sidebar-link">Cartons</a></li><li><a href="/solidus/shipments/shipping-method-filters.html" class="sidebar-link">Shipping method filters</a></li><li><a href="/solidus/shipments/shipment-setup-examples.html" class="sidebar-link">Shipment setup examples</a></li><li><a href="/solidus/shipments/solidus-active-shipping-extension.html" class="sidebar-link">`solidus_active_shipping` extension</a></li><li><a href="/solidus/shipments/custom-shipping-calculators.html" class="sidebar-link">Custom shipping calculators</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Calculators</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Assets</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Views</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Products and Variants</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Inventory</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Returns</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Promotions</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Adjustments</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Orders</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Returns</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Users</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Upgrades</span><span class="arrow down"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Extensions</span><span class="arrow down"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="overview-of-shipments"><a href="#overview-of-shipments" aria-hidden="true" class="header-anchor">#</a> Overview of shipments</h1><p>Solidus uses a flexible system to calculate shipping. It accommodates the full
range of shipment pricing: from simple <a href="https://en.wikipedia.org/wiki/Flat_rate" target="_blank" rel="noopener noreferrer">flat
rate</a> calculations to more
complex calculations related to product weight or type, the customer's shipping
address, what shipping method is being used, and so on.</p><p>If your store has complex shipping needs, you may find one of Solidus's existing
shipping extensions, like <a href="/solidus/shipments/solidus-active-shipping-extension.html"><code>solidus_active_shipping</code></a>
or <a href="https://github.com/boomerdigital/solidus_shipstation" target="_blank" rel="noopener noreferrer"><code>solidus_shipstation</code></a>, useful. Check out <a href="https://extensions.solidus.io" target="_blank" rel="noopener noreferrer">the list of
supported Solidus Extensions</a>.</p><p>This article provides a summary of shipping concepts. If you are interested in
reading about example Solidus shipment setups see
<a href="/solidus/shipments/shipment-setup-examples.html">Shipment setup examples</a>.</p><h2 id="shipment-attributes"><a href="#shipment-attributes" aria-hidden="true" class="header-anchor">#</a> Shipment attributes</h2><p>The <code>Spree::Shipment</code> model tracks how items should be delivered to the
customer. Developers may be interested in the following attributes:</p><ul><li><code>number</code>: The unique identifier for this shipment. It begins with the letter
<code>H</code> and ends in an 11-digit number. This number is visible to customers, and
it can be used to find the order (by calling <code>Spree::Shipment.find_by(number: H12345678910)</code>).</li><li><code>tracking</code>: The identifier given for the shipping provider (such as FedEx or
UPS).</li><li><code>shipped_at</code>: The time when the shipment is shipped.</li><li><code>state</code>: The current state of the shipment. See <a href="#shipping-states">Shipping
states</a> for more information.</li><li><code>stock_location_id</code>: The ID of the stock location where the items for this
shipment are sourced from.</li><li><code>adjustment_total</code>: The sum of the promotion and tax adjustments on the
shipment.</li><li><code>additional_tax_total</code>: The sum of U.S.-style sales taxes on the shipment.</li><li><code>promo_total</code>: The sum of the promotions on the shipment.</li><li><code>included_tax_total</code>: The sum of the VAT-style taxes on the shipment.</li><li><code>cost</code>: The estimated shipping cost (for the selected shipping method).</li><li><code>order_id</code>: The ID for the order that the shipment belongs to.</li></ul><h3 id="shipping-states"><a href="#shipping-states" aria-hidden="true" class="header-anchor">#</a> Shipping states</h3><p>Each shipment is assigned a <code>state</code> attribute. Depending on its state, different
actions can be performed on shipments. There are four possible states:</p><ul><li><code>pending</code>: The shipment has backordered inventory units and/or the order is
not paid for.</li><li><code>ready</code>: The shipment has no backordered inventory units and the order is paid
for.</li><li><code>shipped</code>: The shipment has left the stock location.</li><li><code>canceled</code>: When an order is cancelled, all of its shipments will also be
cancelled. When this happens, all items in the shipment will be restocked. If
an order is &quot;resumed&quot;, then the shipment will also be resumed.</li></ul><h2 id="core-concepts"><a href="#core-concepts" aria-hidden="true" class="header-anchor">#</a> Core concepts</h2><p>To leverage Solidus's shipping system, become familiar with its key concepts:</p><ul><li>Stock locations</li><li>Shipping methods</li><li>Zones</li><li>Shipping categories</li><li>Shipping calculators</li><li>Shipping rates</li><li>Inventory units</li><li>Cartons</li></ul><h3 id="stock-locations"><a href="#stock-locations" aria-hidden="true" class="header-anchor">#</a> Stock locations</h3><p>Stock locations represent physical storage locations from which stock is
shipped.</p><h3 id="shipping-methods"><a href="#shipping-methods" aria-hidden="true" class="header-anchor">#</a> Shipping methods</h3><p>Shipping methods identify the actual delivery services used to ship the
product. For example:</p><ul><li>UPS Ground</li><li>UPS One Day</li><li>FedEx 2Day</li><li>FedEx Overnight</li><li>DHL International</li></ul><p>Each shipping method is only applicable to a specific geographic
zone. For example, you wouldn't be able to get a package delivered
internationally using a domestic-only shipping method. You can't ship from
Dallas, USA, to Rio de Janeiro, Brazil, using UPS Ground, which is a United
States-only carrier.</p><h3 id="shipping-categories"><a href="#shipping-categories" aria-hidden="true" class="header-anchor">#</a> Shipping categories</h3><p>You can further restrict when shipping methods are available to customers by
using shipping categories. If you assign two products to two different shipping
categories, you could ensure that these items are always sent as separate
shipments.</p><p>For example, if your store can only ship oversized products via a specific
carrier, called &quot;USPS Oversized Parcels&quot;, then you could create a shipping
category called &quot;Oversized&quot; for that shipping method, which can then be assigned
to oversized products.</p><p>Shipping categories are created in the admin interface (<strong>Settings -&gt; Shipping
-&gt; Shipping Categories</strong>) and then assigned to products (<strong>Products -&gt; Edit</strong>).</p><h3 id="zones"><a href="#zones" aria-hidden="true" class="header-anchor">#</a> Zones</h3><p>Zones serve as a mechanism for grouping distinct geographic areas together.</p><p>The shipping address entered during checkout defines the zone (or zones) for the
order. The zone limits the available shipping methods for the order. It also
defines regional taxation rules.</p><h3 id="shipping-calculators"><a href="#shipping-calculators" aria-hidden="true" class="header-anchor">#</a> Shipping calculators</h3><p>A shipping calculator is the component responsible for calculating the shipping
rate for each available shipping method.</p><p>Solidus ships with five default shipping calculators:</p><ul><li><a href="https://github.com/solidusio/solidus/blob/master/core/app/models/spree/calculator/shipping/flat_percent_item_total.rb" target="_blank" rel="noopener noreferrer">Flat percent</a></li><li><a href="https://github.com/solidusio/solidus/blob/master/core/app/models/spree/calculator/shipping/flat_rate.rb" target="_blank" rel="noopener noreferrer">Flat rate (per order)</a></li><li><a href="https://github.com/solidusio/solidus/blob/master/core/app/models/spree/calculator/shipping/per_item.rb" target="_blank" rel="noopener noreferrer">Flat rate per package item</a></li><li><a href="https://github.com/solidusio/solidus/blob/master/core/app/models/spree/calculator/shipping/flexi_rate.rb" target="_blank" rel="noopener noreferrer">Flexible rate per package item</a></li><li><a href="https://github.com/solidusio/solidus/blob/master/core/app/models/spree/calculator/shipping/price_sack.rb" target="_blank" rel="noopener noreferrer">Price sack</a>
(which offers variable shipping cost that depends on order total)</li></ul><p>If you want to estimate shipping rates using carrier APIs, You can use an
extension like <a href="/solidus/shipments/solidus-active-shipping-extension.html"><code>solidus_active_shipping</code></a>. Or, if you
have other complex needs, you can create a <a href="/solidus/shipments/custom-shipping-calculators.html">custom shipping
calculators</a> for more information.</p><h3 id="shipping-rates"><a href="#shipping-rates" aria-hidden="true" class="header-anchor">#</a> Shipping rates</h3><p>For each shipment, a <code>Spree::ShippingRate</code> object is created for each of your
store's shipping methods. These objects represent the cost of the shipment as
calculated by each shipping method's calculator.</p><table><thead><tr><th><code>Spree::ShippingRate</code></th><th>1</th><th>2</th><th>3</th><th>Description</th></tr></thead><tbody><tr><td><code>shipment_id</code></td><td>1</td><td>1</td><td>1</td><td>All of these rates are for one shipment</td></tr><tr><td><code>shipping_method_id</code></td><td>1</td><td>2</td><td>3</td><td>Each available shipping method</td></tr><tr><td><code>selected</code></td><td>false</td><td>true</td><td>false</td><td>Set to <code>true</code> for the selected shipping method only</td></tr><tr><td><code>cost</code></td><td>$0.50</td><td>$1.75</td><td>$1.25</td><td>The shipment's shipping rate</td></tr></tbody></table><p>Once the shipping method has been chosen, the matching <code>Spree::ShippingRate</code>'s
<code>selected</code> key becomes <code>true</code>. Only one shipping rate can be <code>selected</code> for each
shipment.</p><h3 id="inventory-units"><a href="#inventory-units" aria-hidden="true" class="header-anchor">#</a> Inventory units</h3><p>A <code>Spree::InventoryUnit</code> is created for each item in a shipment. It tracks
whether the item has shipped, what product variant the item is, and what order
and shipment the item is associated with.</p><h3 id="cartons"><a href="#cartons" aria-hidden="true" class="header-anchor">#</a> Cartons</h3><p>The <code>Spree::Carton</code> model represents how an order was shipped. For stores that
use third-party logistics or complicated warehouse workflows, the shipment
described when the order is confirmed may not be how the <em>actual</em> shipment is
packaged when it leaves its destination.</p><p>For more information, see the <a href="/solidus/shipments/cartons.html">Cartons</a> article.</p></div><div class="content edit-link"><a href="https://github.com/solidusio/solidus/edit/master/guides/shipments/overview-of-shipments.md" target="_blank" rel="noopener noreferrer">Edit this page</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/solidus/taxation/custom-tax-calculators.html" class="prev">
          Custom tax calculators
        </a></span><span class="next"><a href="/solidus/shipments/user-interface-for-shipments.html">
          User interface for shipments
        </a> →
      </span></p></div></div></div></div>
    <script src="/solidus/assets/js/17.96a840b0.js" defer></script><script src="/solidus/assets/js/app.8a40fd93.js" defer></script>
  </body>
</html>
