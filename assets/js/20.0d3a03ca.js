(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{58:function(t,e,s){"use strict";s.r(e);var n=s(0),a=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._m(1),s("p",[t._v("Return items are associated with "),s("router-link",{attrs:{to:"../inventory/inventory-units.html"}},[s("code",[t._v("Spree::InventoryUnit")]),t._v("s")]),t._v(" and\ncan be re-added to your store's inventory once they are received.")],1),t._m(2),s("ul",[t._m(3),t._m(4),t._m(5),t._m(6),s("li",[s("code",[t._v("included_tax_total")]),t._v(": The amount of "),s("router-link",{attrs:{to:"../taxation/value-added-tax.html"}},[t._v("VAT-style tax")]),t._v(" included in the\n"),s("code",[t._v("amount")]),t._v(" of the item.")],1),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17)]),t._m(18),t._m(19),t._m(20),t._m(21),t._m(22),s("p",[t._v("Return items can be accepted or rejected based on defined business reasons.")]),s("p",[t._v("For example, Solidus rejects returns on items that are not included in a\n"),s("router-link",{attrs:{to:"return-authorizations.html"}},[s("code",[t._v("Spree::ReturnAuthorization")])]),t._v(". If the item is not\nreferenced in a return authorization, then the "),s("code",[t._v("Spree::ReturnItem")]),t._v("'s\n"),s("code",[t._v("acceptance_status")]),t._v(" transitions to "),s("code",[t._v("rejected")]),t._v(" and the "),s("code",[t._v("acceptance_status_errors")]),t._v("\nattribute should have the following value:")],1),t._m(23),t._m(24),t._m(25),t._m(26),t._m(27),t._m(28)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"return-items"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-items","aria-hidden":"true"}},[this._v("#")]),this._v(" Return items")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("Spree::ReturnItem")]),this._v(" model is the central model in Solidus's return system.\nAll of the other models related to returns either use or depend on return items.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("A "),e("code",[this._v("Spree::ReturnItem")]),this._v(" has the following attributes:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("return_authorization_id")]),this._v(": The ID for the "),e("code",[this._v("Spree::ReturnAuthorization")]),this._v("\nassociated with the return item.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("inventory_unit_id")]),this._v(": The ID for the "),e("code",[this._v("Spree::InventoryUnit")]),this._v(" that is associated\nwith the return item.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("exchange_variant_id")]),this._v(": If the "),e("code",[this._v("Spree::ReimbursementType")]),this._v(" is an exchange, this\nattribute's value is the variant ID that is going to be exchanged.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("amount")]),this._v(": The amount that the customer paid for the item.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("additional_tax_total")]),this._v(" The amount of sales tax that the customer paid for the\nitem.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("reception_status")]),this._v(": Tracks whether the stock location has received the item.\nSee "),e("a",{attrs:{href:"#reception-states"}},[this._v("Reception states")]),this._v(" for more information.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("code",[t._v("acceptance_status")]),t._v(": Tracks the acceptance status of the return item. The\npossible states include "),s("code",[t._v("pending")]),t._v(", "),s("code",[t._v("accepted")]),t._v(", and "),s("code",[t._v("rejected")]),t._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("customer_return_id")]),this._v(": The ID for the "),e("code",[this._v("Spree::CustomerReturn")]),this._v(" that includes the\nreturn item.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("reimbursement_id")]),this._v(": The ID for the "),e("code",[this._v("Spree::Reimbursement")]),this._v(" that includes the\nreturn item.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("exchange_inventory_unit_id")]),this._v(": If the "),e("code",[this._v("Spree::ReimbursementType")]),this._v(" is an\nexchange, this attribute's value is the ID of the "),e("code",[this._v("Spree::InventoryUnit")]),this._v(" that\nthat is going to be exchanged.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("acceptance_status_errors")]),this._v(": A hash that lists reasons why the return item does\nis not acceptable.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("preferred_reimbursement_type_id")]),this._v(": The ID for the reimbursement type that was\noriginally set for the return item.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("override_reimbursement_type_id")]),this._v(": An optional reimbursement type that\noverrides the preferred reimbursement type.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("resellable")]),this._v(": States whether the return item can be re-sold.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("return_reason_id")]),this._v(": The ID for the "),e("code",[this._v("Spree::ReturnReason")]),this._v(" that is given for the\nitem.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"reception-states"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reception-states","aria-hidden":"true"}},[this._v("#")]),this._v(" Reception states")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("Spree::ReturnItem")]),this._v(" object tracks whether your stock location has received\nthe item. The following reception states are available:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("awaiting")])]),s("li",[s("code",[t._v("canceled")])]),s("li",[s("code",[t._v("expired")])]),s("li",[s("code",[t._v("given_to_customer")])]),s("li",[s("code",[t._v("in_transit")])]),s("li",[s("code",[t._v("lost_in_transit")])]),s("li",[s("code",[t._v("received")])]),s("li",[s("code",[t._v("shipped_wrong_item")])]),s("li",[s("code",[t._v("short_shipped")])]),s("li",[s("code",[t._v("unexchanged")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In order to offer a reimbursement to the customer, the status needs to be\n"),e("code",[this._v("received")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"acceptance"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#acceptance","aria-hidden":"true"}},[this._v("#")]),this._v(" Acceptance")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[e("span",{attrs:{class:"token punctuation"}},[this._v("{")]),e("span",{attrs:{class:"token symbol"}},[this._v(":rma_required")]),e("span",{attrs:{class:"token operator"}},[this._v("=")]),e("span",{attrs:{class:"token operator"}},[this._v(">")]),e("span",{attrs:{class:"token string"}},[this._v('"Return item requires an RMA"')]),e("span",{attrs:{class:"token punctuation"}},[this._v("}")]),this._v("\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"change-acceptance-behavior"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#change-acceptance-behavior","aria-hidden":"true"}},[this._v("#")]),this._v(" Change acceptance behavior")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Return items are accepted or rejected using the\n"),e("code",[this._v("Spree::ReturnItem::EligibilityValidator")]),this._v(" classes. You can change the\neligibility validators that your store uses by overriding the "),e("code",[this._v("::Default")]),this._v("\nsubclass's list in an initializer.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For example, by default Solidus rejects return items that are not included in a\nreturn authorization using the\n"),e("code",[this._v("Spree::ReturnItem::EligibilityValidator::RMARequired")]),this._v(" class. You could exclude\nthe "),e("code",[this._v("RMARequired")]),this._v(" item when you replace the list of eligibility validators in\nyour "),e("code",[this._v("config/initializers/spree.rb")]),this._v(" initializer:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{attrs:{class:"token constant"}},[t._v("Rails")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("application"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to_prepare "),s("span",{attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  "),s("span",{attrs:{class:"token constant"}},[t._v("Spree")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("ReturnItem")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("EligibilityValidator")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("Default")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("permitted_eligibility_validators "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{attrs:{class:"token constant"}},[t._v("ReturnItem")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("EligibilityValidator")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("OrderCompleted")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token constant"}},[t._v("ReturnItem")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("EligibilityValidator")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("TimeSincePurchase")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token constant"}},[t._v("ReturnItem")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("EligibilityValidator")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("InventoryShipped")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token constant"}},[t._v("ReturnItem")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("EligibilityValidator")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("NoReimbursements")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("See the\n"),e("a",{attrs:{href:"https://github.com/solidusio/solidus/blob/master/core/app/models/spree/return_item/eligibility_validator/default.rb",target:"_blank",rel:"noopener noreferrer"}},[e("code",[this._v("Spree::ReturnItem::EligibilityValidator::Default")])]),this._v("\nfor a list of the default eligibility validators.")])}],!1,null,null,null);e.default=a.exports}}]);