(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{77:function(t,e,s){"use strict";s.r(e);var n=s(0),a=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._m(1),s("p",[t._v("Note that model preferences apply only to the current model. To learn more about\napplication-wide preferences, see the "),s("router-link",{attrs:{to:"app-configuration.html"}},[t._v("App configuration")]),t._v("\narticle.")],1),s("p",[t._v("We recommend keeping preferences to the minimum necessary. However, if your\nstore requires additional preferences, you can create custom ones that\nhave any number of arguments.")]),t._m(2),s("p",[t._v("You can define preferences for a model within the model itself:")]),t._m(3),s("p",[t._v("For each preference you define, a data type should be provided. The available\ntypes are:")]),t._m(4),t._m(5),t._m(6),s("p",[t._v("In order for your new preferences to persist, you need to add a column to the\nrelevant model using a migration:")]),t._m(7),t._m(8),s("p",[t._v("Then, you can run the migration:")]),t._m(9),t._m(10),s("p",[t._v("Now you can access their values from the model they are set on:")]),t._m(11),s("p",[t._v("Or, the value of a specific preference:")]),t._m(12)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"add-model-preferences"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#add-model-preferences","aria-hidden":"true"}},[this._v("#")]),this._v(" Add model preferences")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Solidus comes with many model-specific preferences. They are configured to have\ndefault values that are appropriate for typical stores. Preferences can be set\non any model that inherits from "),e("a",{attrs:{href:"https://github.com/solidusio/solidus/blob/master/core/app/models/spree/base.rb",target:"_blank",rel:"noopener noreferrer"}},[e("code",[this._v("Spree::Base")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"define-new-preferences"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#define-new-preferences","aria-hidden":"true"}},[this._v("#")]),this._v(" Define new preferences")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("MyStore")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("SubscriptionRules")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("Spree")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("Base")]),t._v("\n    preference "),s("span",{attrs:{class:"token symbol"}},[t._v(":hot_salsa")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token symbol"}},[t._v(":boolean")]),t._v("\n    preference "),s("span",{attrs:{class:"token symbol"}},[t._v(":dark_chocolate")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token symbol"}},[t._v(":boolean")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" default"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("true")]),t._v("\n    preference "),s("span",{attrs:{class:"token symbol"}},[t._v(":color")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token symbol"}},[t._v(":string")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("boolean")])]),e("li",[e("code",[this._v("string")])]),e("li",[e("code",[this._v("password")])]),e("li",[e("code",[this._v("integer")])]),e("li",[e("code",[this._v("text")])]),e("li",[e("code",[this._v("array")])]),e("li",[e("code",[this._v("hash")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("An optional default value may be defined. (See the "),e("code",[this._v(":dark_chocolate")]),this._v(" preference\nin the block above.) This is the value used unless another value has been set.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"add-columns-for-your-preferences"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#add-columns-for-your-preferences","aria-hidden":"true"}},[this._v("#")]),this._v(" Add columns for your preferences")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("AddPreferencesToSubscriptionRules")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("ActiveRecord")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("Migration")]),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token number"}},[t._v("5.0")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" change\n    add_column "),s("span",{attrs:{class:"token symbol"}},[t._v(":my_store_subscription_rules")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token symbol"}},[t._v(":preferences")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token symbol"}},[t._v(":text")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Your new "),e("code",[this._v("preferences")]),this._v(" column should be the type "),e("code",[this._v("text")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("bundle "),e("span",{attrs:{class:"token function"}},[this._v("exec")]),this._v(" rails db:migrate\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"access-your-preferences"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#access-your-preferences","aria-hidden":"true"}},[this._v("#")]),this._v(" Access your preferences")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{attrs:{class:"token constant"}},[t._v("MyStore")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("SubscriptionRules")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("find")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("1")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("preferences\n"),s("span",{attrs:{class:"token comment"}},[t._v('# => {:hot_salsa => nil, :dark_chocolate => true, :color => "grey"}')]),t._v("\n")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{attrs:{class:"token constant"}},[t._v("MyStore")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("SubscriptionRules")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("find")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("1")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("preferences"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fetch")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token symbol"}},[t._v(":dark_chocolate")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("# => true")]),t._v("\n")])])}],!1,null,null,null);e.default=a.exports}}]);