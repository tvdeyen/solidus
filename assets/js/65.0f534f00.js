(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{101:function(t,e,a){"use strict";a.r(e);var s=a(0),o=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"decorators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#decorators","aria-hidden":"true"}},[t._v("#")]),t._v(" Decorators")]),a("p",[t._v("Solidus autoloads any file in the "),a("code",[t._v("/app")]),t._v(" directory that has the suffix\n"),a("code",[t._v("_decorator.rb")]),t._v(", just like any other Rails models or controllers. This allows\nyou to "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Monkey_patch",target:"_blank",rel:"noopener noreferrer"}},[t._v("monkey patch")]),t._v(" Solidus functionality for your store.")]),a("p",[t._v("For example, if you want to add a method to the "),a("code",[t._v("Spree::Order")]),t._v(" model, you could\ncreate "),a("code",[t._v("/app/models/mystore/order_decorator.rb")]),t._v(" with the following contents:")]),a("pre",{pre:!0,attrs:{class:"language-ruby"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("MyStore")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("OrderDecorator")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" total\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("super")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("BigDecimal")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("10.0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n"),a("span",{attrs:{class:"token constant"}},[t._v("Spree")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token constant"}},[t._v("Order")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prepend "),a("span",{attrs:{class:"token constant"}},[t._v("MyStore")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token constant"}},[t._v("OrderDecorator")]),t._v("\n")])]),a("p",[t._v("This creates a new module called "),a("code",[t._v("MyStore::OrderDecorator")]),t._v(" that prepends its\nmethods early in the method lookup chain. So, for method calls on "),a("code",[t._v("Spree::Order")]),t._v("\nobjects, the decorator's "),a("code",[t._v("total")]),t._v(" method would override the original "),a("code",[t._v("total")]),t._v("\nmethod.")]),a("p",[t._v("From now on, every order, when asked for its total, returns an inflated\ntotal by $10 (or whatever your currency is).")]),a("h2",{attrs:{id:"decorators-and-solidus-upgrades"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#decorators-and-solidus-upgrades","aria-hidden":"true"}},[t._v("#")]),t._v(" Decorators and Solidus upgrades")]),a("p",[t._v("Decorators can complicate your Solidus upgrades. If you depend on decorators,\nensure that you test them before upgrading in a production environment.\nNote that Solidus's core classes may change with each release.")])])}],!1,null,null,null);e.default=o.exports}}]);