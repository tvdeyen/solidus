(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{112:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"solidus-active-shipping-extension"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#solidus-active-shipping-extension","aria-hidden":"true"}},[t._v("#")]),s("code",[t._v("solidus_active_shipping")]),t._v(" extension")]),s("p",[t._v("The "),s("a",{attrs:{href:"https://github.com/solidusio-contrib/solidus_active_shipping",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("solidus_active_shipping")])]),t._v(" extension wraps Shopify's popular\n"),s("a",{attrs:{href:"http://shopify.github.io/active_shipping/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("active_shipping")])]),t._v(" gem to interface\nwith carrier APIs (including USPS, FedEx, and UPS). This extension provides\nSolidus-compatible shipping calculators for the delivery services offered by\nsupported carriers. This means that you can offer your customers accurate\nshipping estimates for their orders before checkout.")]),s("p",[t._v("Throughout this article, we will demonstrate usage of the\n"),s("code",[t._v("solidus_active_shipping")]),t._v(" extension with USPS delivery services. The other\ncarriers supported by this extension would follow a similar pattern.")]),s("h2",{attrs:{id:"install-solidus-active-shipping"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-solidus-active-shipping","aria-hidden":"true"}},[t._v("#")]),t._v(" Install "),s("code",[t._v("solidus_active_shipping")])]),s("p",[t._v("Follow the installation instructions provided by the "),s("code",[t._v("solidus_active_shipping")]),t._v("\nextension.You can get more detailed information on installation from "),s("a",{attrs:{href:"https://github.com/solidusio-contrib/solidus_active_shipping/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("the\nextension's documentation")]),t._v(".")]),s("p",[t._v("Now, you will be able to use any of the pre-configured shipping calculators that\nhave been built into the extension.")]),s("h2",{attrs:{id:"add-required-configuration-variables-for-web-services"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-required-configuration-variables-for-web-services","aria-hidden":"true"}},[t._v("#")]),t._v(" Add required configuration variables for web services")]),s("p",[t._v("In addition to installing the extension, we need to authenticate with any\ndeveloper accounts we have with carriers. Administrators can add authentication\nkeys from the "),s("code",[t._v("/admin/active_shipping_settings")]),t._v(" page ("),s("strong",[t._v("Settings -> Stores ->\nActive Shipping Settings")]),t._v(" in the admin).")]),s("p",[t._v("You can also set the keys from any initializer in your application. For example,\nyou could create a new file, "),s("code",[t._v("config/initializers/active_shipping.rb")]),t._v(", with the\ncontents:")]),s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{attrs:{class:"token constant"}},[t._v("Rails")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("application"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("after_initialize "),s("span",{attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  "),s("span",{attrs:{class:"token constant"}},[t._v("Spree")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("ActiveShipping")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("Config")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token symbol"}},[t._v(":usps_login")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"your-developer-key"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])]),s("p",[t._v("However, note that after the application has been initialized, any changes made\nin the admin will override the initial value. Then, if the application is\nrestarted, the value in the initializer would overwrite the value set in the\nadmin again.")]),s("h2",{attrs:{id:"add-optional-configuration-variables"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-optional-configuration-variables","aria-hidden":"true"}},[t._v("#")]),t._v(" Add optional configuration variables")]),s("p",[t._v("You may also want to add shipping settings specifically for your store. The\nfollowing settings are available:")]),s("ul",[s("li",[t._v("Weight units")]),s("li",[t._v("Unit multiplier (for unit conversion)")]),s("li",[t._v("Default product weight")]),s("li",[t._v("Handling fee")]),s("li",[t._v("Maximum weight per package")])]),s("p",[t._v("You can configure these settings from the "),s("code",[t._v("admin/active_shipping_settings")]),t._v(" page\n("),s("strong",[t._v("Settings -> Store -> Active Shipping Settings")]),t._v(" in the admin) or from any\ninitializer in your application. For example, you could create a new file,\n"),s("code",[t._v("config/initializers/active_shipping.rb")]),t._v(", with the contents:")]),s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{attrs:{class:"token constant"}},[t._v("Rails")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("application"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("after_initialize "),s("span",{attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  "),s("span",{attrs:{class:"token constant"}},[t._v("Spree")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("ActiveShipping")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("Config")]),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token symbol"}},[t._v(":default_weight")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("3.0")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])]),s("p",[t._v("See "),s("a",{attrs:{href:"https://github.com/solidusio-contrib/solidus_active_shipping/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("the extension's documentation")]),t._v(" for more information about available\nconfiguration settings.")]),s("h2",{attrs:{id:"add-shipping-methods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-shipping-methods","aria-hidden":"true"}},[t._v("#")]),t._v(" Add shipping methods")]),s("p",[t._v("When you set up a new shipping method ("),s("strong",[t._v("Settings -> Shipping -> Shipping\nMethods")]),t._v(' in the admin), such as "USPS Media Mail", you can choose the\ncorresponding base calculator, "USPS Media Mail Parcel", from the list of\navailable calculators.')]),s("p",[t._v("Now, once an order has been assigned a shipping method, a shipping estimate can\nbe provided to the customer before checkout.")]),s("p",[t._v('If the delivery service you wish to use is not built into the extension (for\nexample, a delivery service called "USPS Bogus First Class International"), it\ncan be easily added as an additional calculator. See '),s("a",{attrs:{href:"#add-additional-shipping-calculators"}},[t._v("Add additional shipping\ncalculators")]),t._v(" for more information.")]),s("h2",{attrs:{id:"access-pre-configured-calculators"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#access-pre-configured-calculators","aria-hidden":"true"}},[t._v("#")]),t._v(" Access pre-configured calculators")]),s("p",[t._v("The "),s("code",[t._v("solidus_active_shipping")]),t._v(' extension comes with pre-configured shipping\ncalculators. Administrators can access these calculators when adding new\nshipping methods by picking them from the "Base Calculator" drop-down menu.')]),s("p",[t._v("You can extend or override the pre-configured calculator classes, such as\n"),s("code",[t._v("Spree::Calculator::Shipping::Usps::GlobalExpressGuaranteed")]),t._v(".")]),s("p",[t._v("You can see all of the extension's included shipping calculators in the list\nof "),s("a",{attrs:{href:"https://github.com/solidusio-contrib/solidus_active_shipping/tree/master/app/models/spree/calculator/shipping",target:"_blank",rel:"noopener noreferrer"}},[t._v("the extension's shipping models")]),t._v(".")]),s("h2",{attrs:{id:"add-additional-shipping-calculators"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-additional-shipping-calculators","aria-hidden":"true"}},[t._v("#")]),t._v(" Add additional shipping calculators")]),s("p",[t._v("Additional delivery services that are not pre-configured as a calculator in the\nextension can be easily added.")]),s("h3",{attrs:{id:"inherit-from-an-existing-service-s-base-class"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inherit-from-an-existing-service-s-base-class","aria-hidden":"true"}},[t._v("#")]),t._v(" Inherit from an existing service's base class")]),s("p",[t._v('For example, you need to a delivery service called "Bogus First Class\nInternational" from USPS, you can add a new calculator class that inherits from\nthe '),s("code",[t._v("Spree::Calculator::Shipping::Usps::Base")]),t._v(" class:")]),s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("Spree")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("Calculator")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("Shipping")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("Usps")]),t._v("\n      "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("BogusFirstClassInternational")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("Spree")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("Calculator")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("Shipping")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("Usps")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("Base")]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("self")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("description\n          "),s("span",{attrs:{class:"token string"}},[t._v('"USPS Bogus First Class International"')]),t._v("\n        "),s("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n      "),s("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])]),s("p",[t._v("Unlike shipping calculators that you write yourself, these calculators inherit\nfrom the existing superclasses built into "),s("code",[t._v("solidus_active_shipping")]),t._v(" and do not\nrequire a "),s("code",[t._v("compute")]),t._v(" instance method that returns a shipping amount.")]),s("h3",{attrs:{id:"match-the-delivery-service-s-provided-name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#match-the-delivery-service-s-provided-name","aria-hidden":"true"}},[t._v("#")]),t._v(" Match the delivery service's provided name")]),s("p",[t._v("The string returned by the "),s("code",[t._v("description")]),t._v(" method must match the name of the USPS\ndelivery service "),s("em",[t._v("exactly")]),t._v(". To determine the exact spelling, you should examine\nwhat the USPS API returns.")]),s("h3",{attrs:{id:"register-the-new-calculator"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#register-the-new-calculator","aria-hidden":"true"}},[t._v("#")]),t._v(" Register the new calculator")]),s("p",[t._v("Finally, register the calculator you added. In extensions, this is accomplished\nwith the "),s("code",[t._v("activate")]),t._v(" method:")]),s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" activate\n  "),s("span",{attrs:{class:"token constant"}},[t._v("Spree")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("Calculator")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("Shipping")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("Usps")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token constant"}},[t._v("BogusFirstClassInternational")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("register\n"),s("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])])}],!1,null,null,null);a.default=n.exports}}]);